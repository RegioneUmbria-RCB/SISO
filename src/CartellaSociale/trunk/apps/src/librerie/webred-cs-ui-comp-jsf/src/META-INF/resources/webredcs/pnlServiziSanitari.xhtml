<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     	xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:p="http://primefaces.org/ui"
	  	xmlns:composite="http://java.sun.com/jsf/composite"
	  	xmlns:webred="http://java.sun.com/jsf/composite/webred">
      
	<h:head>
		<title>Servizi Sanitari Soggetto</title>
	</h:head>
	<h:body>
		<composite:interface componentType="pnlServiziSanitari">
			<composite:attribute name="iServiziSanitari" type="it.webred.cs.jsf.interfaces.IServiziSanitari"/>
			<composite:attribute name="codiceFiscale" type="java.lang.String" required="true"/>
		</composite:interface>
		<composite:implementation>
		
		<p:outputPanel deferred="true">
		    <p:graphicImage id="content" title="Servizi Sanitari" value="#{resource['webredcs/img/LogoSistemaWelfare.gif']}" height="26px"
		    	                rendered="#{cc.attrs.iServiziSanitari.isRendered(cc.attrs.codiceFiscale)}"/>
		    	                
		    <p:graphicImage id="error" title="#{cc.attrs.iServiziSanitari.errorMessage}" value="#{resource['webredcs/img/warning.png']}" height="20px"
		    	                rendered="#{cc.attrs.iServiziSanitari.errorMessage!=null}"/>
		    
		    <p:tooltip id="toolTipServiziSanitari" for="content">
				<p:dataTable var="ss" value="#{cc.attrs.iServiziSanitari.serviziSanitari}" >
				  <f:facet name="header">Servizi sanitari presenti per il soggetto</f:facet>
				    <p:column headerText="Struttura">
				        <h:outputText value="#{ss.idEntitaDes}" />
				    </p:column>
				 
				    <p:column headerText="Data Inizio">
				        <h:outputText value="#{ss.dataInizioFormatted}" />
				    </p:column>
				 
				    <p:column headerText="Data Fine">
				        <h:outputText value="#{ss.dataFineFormatted}" />
				    </p:column>
				    <p:column headerText="Causa fine">
				        <h:outputText value="#{ss.iguCausFineServ}" />
				    </p:column>
				</p:dataTable>
			</p:tooltip>	
		</p:outputPanel>
		</composite:implementation>
	</h:body>
	
</html>