<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     	xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:p="http://primefaces.org/ui"
	  	xmlns:composite="http://java.sun.com/jsf/composite"
	  	xmlns:webredcs="http://java.sun.com/jsf/composite/webredcs"
	  	xmlns:webred="http://java.sun.com/jsf/composite/webred"
	  	xmlns:c="http://java.sun.com/jsp/jstl/core">

     <p:panelGrid id="statoPai" style="width:100%;" >
        <p:row>
				<p:column>
					<h:outputLabel for="obiettiviBreve"
						value="Obiettivi di breve termine**" />
				</p:column>
				<p:column>
					<p:inputTextarea id="obiettiviBreve" rows="4" cols="50"
						value="#{cc.attrs.iPai.selectedPai.obiettiviBreve}"
						disabled="#{cc.attrs.iPai.closed}" />
				</p:column>
				<p:column>
					<h:outputLabel for="raggiuntiBreve" value="Raggiunti" />
				</p:column>
				<p:column>
					<p:selectOneRadio id="raggiuntiBreve"
						value="#{cc.attrs.iPai.selectedPai.raggiuntiBreve}"
						layout="pageDirection"
						disabled="#{cc.attrs.iPai.closed}">
					<f:selectItems value="#{cc.attrs.iPai.lstRadioOptions}"/>
					</p:selectOneRadio>
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<h:outputLabel for="obiettiviMedio"
						value="Obiettivi di medio termine**" />
				</p:column>
				<p:column>
					<p:inputTextarea id="obiettiviMedio" rows="4" cols="50"
						value="#{cc.attrs.iPai.selectedPai.obiettiviMedio}"
						disabled="#{cc.attrs.iPai.closed}" />
				</p:column>
				<p:column>
					<h:outputLabel for="raggiuntiMedio" value="Raggiunti" />
				</p:column>
				<p:column>
					<p:selectOneRadio id="raggiuntiMedio"
						value="#{cc.attrs.iPai.selectedPai.raggiuntiMedio}"
						layout="pageDirection"
						disabled="#{cc.attrs.iPai.closed}">
						<f:selectItems value="#{cc.attrs.iPai.lstRadioOptions}"/>
					</p:selectOneRadio>
				</p:column>
			</p:row>
			
			<p:row>
				<p:column>
					<h:outputLabel for="obiettiviLungo"
						value="Obiettivi di lungo termine**" />
				</p:column>
				<p:column>
					<p:inputTextarea id="obiettiviLungo" rows="4" cols="50"
						value="#{cc.attrs.iPai.selectedPai.obiettiviLungo}"
						disabled="#{cc.attrs.iPai.closed}" />  
				</p:column>
				<p:column>
					<h:outputLabel for="raggiuntiLungo" value="Raggiunti" />
				</p:column>
				<p:column>
					<p:selectOneRadio id="raggiuntiLungo"
						value="#{cc.attrs.iPai.selectedPai.raggiuntiLungo}"
						layout="pageDirection"
						disabled="#{cc.attrs.iPai.closed}">
						<f:selectItems value="#{cc.attrs.iPai.lstRadioOptions}"/>
					</p:selectOneRadio>
				</p:column>
			</p:row>

			<p:row>
				<p:column>
					<h:outputLabel value="Verifica ogni" />
				</p:column>
				<p:column colspan="3">
					<p:spinner value="#{cc.attrs.iPai.selectedPai.verificaOgni}"
						min="0" size="5"
						disabled="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}" />
					<p:spacer width="20" />
					<p:selectOneMenu style="vertical-align: middle;"
						value="#{cc.attrs.iPai.selectedPai.verificaUnitaMisura}"
						disabled="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}">
						<f:selectItem itemLabel="Giorni" itemValue="Giorni" />
						<f:selectItem itemLabel="Settimane" itemValue="Settimane" />
						<f:selectItem itemLabel="Mesi" itemValue="Mesi" />
						<f:selectItem itemLabel="Anni" itemValue="Anni" />
					</p:selectOneMenu>
				</p:column>
			</p:row>

			<p:row>
			<!-- 	<p:column>
					<h:outputLabel for="dataUltimoMonitoraggio" value="Data ultimo monitoraggio" />
				</p:column>
				<p:column colspan="3">
					<webred:pnlData id="dataUltimoMonitoraggio"
						dataValue="#{cc.attrs.iPai.selectedPai.dataMonitoraggio}"
						dataPattern="dd/MM/yyyy"
						dataValMes="Data ultimo monitoraggio non valida"
						dataConMes="Data ultimo monitoraggio non valida"
						dataPatternLabel="gg/mm/aaaa" yearRange="c-1:c+5"
						disabled="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}" />
				</p:column> -->
				<p:column >
					<h:outputLabel for="dataUltimoMonitoraggio" value="Ultimo  monitoraggio effettuato in data" />
				</p:column>
				<p:column>
					<h:outputText id="dataUltimoMonitoraggio" value="#{cc.attrs.iPai.selectedPai.dataMonitoraggio}" >
					   <f:convertDateTime pattern="dd/MM/yyyy"/>
					</h:outputText>
				</p:column>
				<p:column >
					<h:outputLabel for="dataNuovoMonitoraggio" value="Nuovo monitoraggio effettuato in data"/>
				</p:column>
				<p:column >
					<webred:pnlData id="dataNuovoMonitoraggio"
						dataValue="#{cc.attrs.iPai.dataNuovoMonitoraggio}"
						dataPattern="dd/MM/yyyy"
						dataValMes="Data ultimo monitoraggio non valida"
						dataConMes="Data ultimo monitoraggio non valida"
						dataPatternLabel="gg/mm/aaaa" yearRange="c-1:c+5"
						disabled="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}" />
				</p:column>
			</p:row>
		</p:panelGrid>	
			
        <p:panelGrid style="width:100%; border: solid red;" rendered="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}">
			<p:row >
				<p:column>
					<h:outputText value="Motivo della chiusura*" />
				</p:column>
				<p:column>
					<h:panelGrid columns="2">
					<p:selectOneMenu
						value="#{cc.attrs.iPai.selectedPai.motivoChiusura}"
						rendered="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}"
						disabled="#{cc.attrs.iPai.closed}" required="true"
						requiredMessage="E' necessario indicare il motivo di chiusura">
						<f:selectItem itemLabel=" - seleziona -" noSelectionOption="true" />
						<f:selectItem itemLabel="Progetto chiuso"       itemValue="Progetto chiuso" />
						<f:selectItem itemLabel="Non collaborazione"    itemValue="Non collaborazione" />
						<f:selectItem itemLabel="Percorso in autonomia" itemValue="Percorso in autonomia" />
						<f:selectItem itemLabel="Deceduto / Trasferito / Non reperibile" itemValue="Deceduto / Trasferito / Non reperibile" />
						<f:selectItem itemLabel="Passaggio ad altro servizio/ente" itemValue="Passaggio ad altro servizio/ente" />
						<f:selectItem itemLabel="Altro (specificare):" itemValue="Altro" />
					</p:selectOneMenu>
					<p:inputTextarea rows="1" 
						value="#{cc.attrs.iPai.selectedPai.motivoChiusuraSpec}"
						disabled="#{cc.attrs.iPai.closed}" />
					</h:panelGrid>
				</p:column>
			</p:row>
			
			<p:row>
			    <p:column>
					<h:outputLabel for="dataChiusura" value="Data Chiusura*" />
				</p:column>
			    <p:column>
					<webred:pnlData id="dataChiusura"
						dataValue="#{cc.attrs.iPai.selectedPai.csDDiario.dtChiusuraDa}"
						dataPattern="dd/MM/yyyy" 
						dataReq="#{cc.attrs.iPai.closed or cc.attrs.iPai.onClosing}"
						dataReqMes="Data Chiusura Ã¨ un campo obbligatorio"
						dataValMes="Data Chiusura non valida"
						dataConMes="Data chiusura non valida"
						dataPatternLabel="gg/mm/aaaa" yearRange="c-1:c+5"
						disabled="#{cc.attrs.iPai.closed}" />
			    </p:column>
			</p:row>
			
     </p:panelGrid>
     	  	
</html>