<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:webred="http://java.sun.com/jsf/composite/webred" xmlns:webredcs="http://java.sun.com/jsf/composite/webredcs">
	
	<p:panel id="pnlMotivazioni">
	<p:spacer />
	<p:spacer />
	<h:panelGrid columns="1">
	   <h:outputLabel value="Inserire i bisogni ESPRESSI dall'utente o dall'interlocutore" />
		<h:panelGrid columns="2">
			<p:outputPanel style="display: inline-block; vertical-align:top;">
				<p:remoteCommand name="refreshPanel" action="#{nuovaSchedaWizard.visual}" update="display1, display2, display3, display4, display5" />

				<h:panelGrid id="display1" columns="1" style="display: inline-block; vertical-align: top;" rendered="#{!empty nuovaSchedaWizard.motivazioni1}">
					<p:selectCheckboxMenu disabled="false" label="Fisiologici" id="motivazioni1" style="width:200px;margin-top:10px" onHide="refreshPanel()"
						value="#{nuovaSchedaWizard.motivazione.classe1.motiviSelected}">
						<f:selectItems value="#{nuovaSchedaWizard.motivazioni1}" />
					</p:selectCheckboxMenu>
					<p:outputPanel style="width:200px;margin-top:10px">
						<p:dataList value="#{nuovaSchedaWizard.motivazione.classe1.motiviDescrizione}" var="motivazioni1" emptyMessage="-">
        	    #{motivazioni1.motivo}
    		</p:dataList>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid id="display2" columns="1" style="display: inline-block; vertical-align: top;" rendered="#{!empty nuovaSchedaWizard.motivazioni2}">
					<p:selectCheckboxMenu disabled="false" label="Sicurezza e Protezione" id="motivazioni2" style="width:200px;margin-top:10px" onHide="refreshPanel()"
						value="#{nuovaSchedaWizard.motivazione.classe2.motiviSelected}">
						<f:selectItems value="#{nuovaSchedaWizard.motivazioni2}" />
					</p:selectCheckboxMenu>
					<p:outputPanel style="width:200px;margin-top:10px">
						<p:dataList value="#{nuovaSchedaWizard.motivazione.classe2.motiviDescrizione}" var="motivazioni2" emptyMessage="-">
        		#{motivazioni2.motivo}
    		</p:dataList>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid id="display3" columns="1" style="display: inline-block; vertical-align: top;" rendered="#{!empty nuovaSchedaWizard.motivazioni3}">
					<p:selectCheckboxMenu disabled="false" label="Appartenenza" id="motivazioni3" style="width:200px;margin-top:10px" onHide="refreshPanel()"
						value="#{nuovaSchedaWizard.motivazione.classe3.motiviSelected}">
						<f:selectItems value="#{nuovaSchedaWizard.motivazioni3}" />
					</p:selectCheckboxMenu>
					<p:outputPanel style="width:200px;margin-top:10px">
						<p:dataList value="#{nuovaSchedaWizard.motivazione.classe3.motiviDescrizione}" var="motivazioni3" emptyMessage="-">
        		#{motivazioni3.motivo}
    		</p:dataList>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid id="display4" columns="1" style="display: inline-block; vertical-align: top;" rendered="#{!empty nuovaSchedaWizard.motivazioni4}">
					<p:selectCheckboxMenu disabled="false" label="Realizzazione" id="motivazioni4" style="width:200px;margin-top:10px" onHide="refreshPanel()"
						value="#{nuovaSchedaWizard.motivazione.classe4.motiviSelected}">
						<f:selectItems value="#{nuovaSchedaWizard.motivazioni4}" />
					</p:selectCheckboxMenu>
					<p:outputPanel style="width:200px;margin-top:10px">
						<p:dataList value="#{nuovaSchedaWizard.motivazione.classe4.motiviDescrizione}" var="motivazioni4" emptyMessage="-">
        		#{motivazioni4.motivo}
    		</p:dataList>
					</p:outputPanel>
				</h:panelGrid>

				<h:panelGrid id="display5" columns="1" style="display: inline-block; vertical-align: top;" rendered="#{!empty nuovaSchedaWizard.motivazioni5}">
					<p:selectCheckboxMenu disabled="false" label="Autorealizzazione" id="motivazioni5" style="width:200px;margin-top:10px" onHide="refreshPanel()"
						value="#{nuovaSchedaWizard.motivazione.classe5.motiviSelected}">
						<f:selectItems value="#{nuovaSchedaWizard.motivazioni5}" />
					</p:selectCheckboxMenu>
					<p:outputPanel style="width:200px;margin-top:10px">
						<p:dataList value="#{nuovaSchedaWizard.motivazione.classe5.motiviDescrizione}" var="motivazioni5" emptyMessage="-">
        		#{motivazioni5.motivo}
    		</p:dataList>
					</p:outputPanel>
				</h:panelGrid>

			</p:outputPanel>

		</h:panelGrid>
		<h:panelGrid columns="2" style="display: inline-block; vertical-align: top;">
			<webred:pnlNota id="altre_motivazioni" notaLabel="Specificare meglio il bisogno:" notaValue="#{nuovaSchedaWizard.motivazione.altro}"  />
		</h:panelGrid>

		<p:spacer height="10px" />

		<p:panel header="Note di diario" toggleable="true" collapsed="true">
			<p:outputPanel style="display: inline-block; vertical-align:top;">
			    <h:panelGrid columns="1" style="display: inline-block; vertical-align: top;">
					<h:panelGrid columns="2">
					<p:outputLabel value="Data"/>
					<webred:pnlData dataValue="#{nuovaSchedaWizard.notaDiarioPubblica.data}" 
					            dataPattern="dd/MM/yyyy"  dataPatternLabel="gg/mm/aaaa" dataReq="false" />
				</h:panelGrid>
				<webred:pnlNota id="diario_pubblico_motivazione" notaLabel="Visibile a tutti" notaValue="#{nuovaSchedaWizard.notaDiarioPubblica.nota}"  />
				</h:panelGrid>
				<h:panelGrid columns="1" style="display: inline-block; vertical-align: top;">
					<h:panelGrid columns="2">
					<p:outputLabel value="Data"/>
					<webred:pnlData dataValue="#{nuovaSchedaWizard.notaDiarioPrivata.data}" 
					            dataPattern="dd/MM/yyyy"  dataPatternLabel="gg/mm/aaaa" dataReq="false" />
					</h:panelGrid>
					<webred:pnlNota id="diario_privato_motivazione" notaLabel="Privata " notaValue="#{nuovaSchedaWizard.notaDiarioPrivata.nota}" />
				</h:panelGrid>
			</p:outputPanel>
		</p:panel>
	</h:panelGrid>
	<p:separator />
	<webred:pnlRequiredSalva salvaAction="#{nuovaSchedaWizard.salvaTabBisogni()}"
	 						 renderRecupero="#{nuovaSchedaWizard.abilitaLoadPrecedente}"
	                         recuperoLastAction="#{nuovaSchedaWizard.valorizzaMotivazioniDaUltima()}" 
	                         panelToUpdate="pnlMotivazioni"/>
	
</p:panel>

<p:spacer height="5px" />

<ui:include src="/jsp/protected/wizard/pnlDiarioSociale.xhtml"/>
	
</ui:composition>