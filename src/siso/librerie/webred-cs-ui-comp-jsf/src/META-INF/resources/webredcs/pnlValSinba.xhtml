<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     	xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:fn="http://java.sun.com/jsp/jstl/functions"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:p="http://primefaces.org/ui"
		xmlns:c="http://java.sun.com/jsp/jstl/core"
	  	xmlns:composite="http://java.sun.com/jsf/composite">
      
	<h:head>
		<title>Gestione Schede valutazione Sinba</title>
	</h:head>
	<h:body>
		<composite:interface componentType="pnlValSinba">
			<composite:attribute name="sinbaManBean" type="it.webred.cs.json.valSinba.IValSinba" required="true"/>
			<composite:attribute name="copiaDatiDaUltimaValutazione"  method-signature="void action()"/>
			<composite:attribute name="refreshDueLivelli" method-signature="void action()"/>
			<composite:attribute name="esisteStorico" type="java.lang.Boolean" required="false" default="false"/>
		</composite:interface>
		<composite:implementation 
			xmlns:webred="http://java.sun.com/jsf/composite/webred"
			xmlns:webredcs="http://java.sun.com/jsf/composite/webredcs">
			
			<p:outputPanel id="schedaSinbaContent">
			
				<p:commandButton value="Recupera dati da ultima valutazione"
								action="#{cc.attrs.copiaDatiDaUltimaValutazione}"
								immediate="true" update=":#{p:component('schedaSinbaContent')}" process="@this"
								partialSubmit="true" rendered="#{cc.attrs.esisteStorico and cc.attrs.sinbaManBean.isNew() and !cc.attrs.sinbaManBean.isCopia()}" />
			
			<p:tabView id="tabViewValMultidimMinori_v1" rendered="#{cc.attrs.sinbaManBean.versionLowerCase eq '1'}" 
				style="padding:0;" orientation="top" scrollable="true" effect="fade" activeIndex="0">
		      
				<p:tab id="datiGenerali" title="Dati Generali">
		
					<!-- TAB DATI GENERALI - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								<h:panelGroup>
									<h:outputText value="Data di inserimento della valutazione *" />
									<p:inputText id="iTxtHidden" style="visibility:hidden;" />	
								</h:panelGroup>
								<p:calendar value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.dataRiferimentoValutazione}" pattern="dd/MM/yyyy" size="10"
							           disabled = "#{!cc.attrs.sinbaManBean.isNew()}" placeholder="gg/mm/aaaa" mask="true" onchange="PF('listaCodificaPrest').filter();" readonlyInput="true">
							          <p:ajax  event="dateSelect" process="@this" listener="#{cc.attrs.sinbaManBean.initCalendar}" update="@this :#{p:component('dtPrestazioni')}  :#{p:component('panelSegnalazioni')}  :#{p:component('affidamentoPAI')} :#{p:component('affidamentoForma')} :#{p:component('affidamentoCarattere')}"/>
							          <f:ajax  event="change" process="@this" listener="#{cc.attrs.sinbaManBean.initCalendar}" update="@this :#{p:component('dtPrestazioni')} :#{p:component('panelSegnalazioni')}  :#{p:component('affidamentoPAI')} :#{p:component('affidamentoForma')} :#{p:component('affidamentoCarattere')}" />
							     </p:calendar>
								<h:outputText value="Codice anonimo beneficiario *"/>
								<p:inputText id="codBeneficiarioaVal" disabled="true" 
											 value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.codiceAnonimoBeneficiario}" />
								<h:outputText value="Anno di nascita *"/>
								<p:inputText id="annoNascitaVal" disabled="true"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.annoNascita}" />
<!-- 								<p:selectOneMenu id="annoNascitaVal" -->
<!-- 									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.annoNascita}" -->
<!-- 									dataReq="false" style="width:200px"> -->
<!-- 									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" /> -->
<!-- 									<f:selectItems value="#{cc.attrs.sinbaManBean.datiGen.lstAnni}" /> -->
<!-- 								</p:selectOneMenu> -->
								<h:outputText value="Fascia di età del beneficiario *"/>
								<p:selectOneMenu id="fasciaEtaVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.fasciaEtaBeneficiario}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemLabel="0-3 anni" itemValue="1" />
									<f:selectItem itemLabel="3-6 anni" itemValue="2" />
									<f:selectItem itemLabel="6-9 anni" itemValue="3" />
									<f:selectItem itemLabel="9-12 anni" itemValue="4" />
									<f:selectItem itemLabel="12-15 anni" itemValue="5" />
									<f:selectItem itemLabel="15-18 anni" itemValue="6" />
								</p:selectOneMenu>
								
								<h:outputText value="Nazione di residenza del beneficiario *"   />
								<p:selectOneMenu id="nazioneVal" filter="true" filterMatchMode="contains"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.nazioneResidenzaBeneficiario}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItems
										value="#{cc.attrs.sinbaManBean.datiGen.lstNazioneResidenza}"
										var="nazione" itemLabel="#{nazione.nazione}"
										itemValue="#{nazione.iso3166}" />
								</p:selectOneMenu>
								
								<h:outputText value="Regione di residenza del beneficiario"   />
								<p:selectOneMenu id="regioneVal" filter="true" filterMatchMode="contains"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.regioneResidenzaBeneficiario}" style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItems value="#{cc.attrs.sinbaManBean.datiGen.lstRegioni}"/>
								</p:selectOneMenu>
								
								<h:outputText value="Scuola frequentata *"/>
								<p:selectOneMenu id="scuolaVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.scuolaFrequentata}" style="width:200px">
									<f:selectItem itemLabel="- seleziona -" noSelectionOption="true"  />
									<f:selectItem itemLabel="nessuna Scuola" itemValue="1" />
									<f:selectItem itemLabel="struttura" itemValue="2" />
									<f:selectItem itemLabel="asilo nido" itemValue="3" />
									<f:selectItem itemLabel="scuola dell'infanzia" itemValue="4" />
									<f:selectItem itemLabel="scuola primaria" itemValue="5" />
									<f:selectItem itemLabel="scuola secondaria I grado" itemValue="6" />
									<f:selectItem itemLabel="scuola secondaria II grado" itemValue="7" />
									<f:selectItem itemLabel="corso formazione professionale" itemValue="8" />
								</p:selectOneMenu>
								
								<h:outputText value="Condizione lavoro *"/>
								<p:selectOneMenu id="condizioneLavoroVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.condizioneLavoro}" style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="inattivo (non in età di lavoro, non ha e non cerca lavoro)"/>
									<f:selectItem itemValue="2" itemLabel="occupato"  />
									<f:selectItem itemValue="3" itemLabel="disoccupato alla ricerca di prima occupazione"/>
									<f:selectItem itemValue="4" itemLabel="in cerca di prima occupazione"/>
								</p:selectOneMenu>
							
							</p:panelGrid>
		
							<p:spacer height="40px"/>
		
							<h:outputText
								value="La profilazione ISEE non è obbligatoria, ma è consigliabile inserirla al fine di una corretta analisi multidimensionale prevista dal D.M. 206/2014, art.5, comma 4."
								style="font-weight: bold;background-color: red;color: white" />
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								 
									<h:outputText value="Numero componenti ISEE" 
												  title="Inserire il numero di componenti del nucleo familiare come risulta da attestazione ISEE"  />
									<p:selectOneMenu id="componentiIseeVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.numeroComponentiISEE}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="0" itemValue="0" />
										<f:selectItem itemLabel="1" itemValue="1" />
										<f:selectItem itemLabel="2" itemValue="2" />
										<f:selectItem itemLabel="3" itemValue="3" />
										<f:selectItem itemLabel="4" itemValue="4" />
										<f:selectItem itemLabel="5" itemValue="5" />
										<f:selectItem itemLabel="6" itemValue="6" />
										<f:selectItem itemLabel="7" itemValue="7" />
										<f:selectItem itemLabel="8" itemValue="8" />
										<f:selectItem itemLabel="9" itemValue="9" />
									</p:selectOneMenu>
									 
									<h:outputText value="Fascia ISEE del beneficiario"   />
									<p:selectOneMenu id="fasciaIseeVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.fasciaISEEBeneficiario}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemValue="1" itemLabel="Valore ISEE=0" />
										<f:selectItem itemValue="2" itemLabel="Tra 0.01 e 3000 Euro" />
										<f:selectItem itemValue="3" itemLabel="Tra 3000.01 e 6000 Euro" />
										<f:selectItem itemValue="4" itemLabel="Tra 6000.01 e 9000 Euro" />
										<f:selectItem itemValue="5" itemLabel="Tra 9000.01 e 12000 Euro"  />
										<f:selectItem itemValue="6" itemLabel="Tra 12000.01 e 15000 Euro"  />
										<f:selectItem itemValue="7" itemLabel="Tra 15000.01 e 20000 Euro" />
										<f:selectItem itemValue="8" itemLabel="Oltre i 20000 Euro" />
									</p:selectOneMenu>
									 
							</p:panelGrid>
		
		<!-- 					<h:outputText -->
		<!-- 						value="Il campo 'Codice della Prestazione' è a scelta multipla.  -->
		<!-- 										Vengono selezionati i codici identificativi delle prestazioni." -->
		<!-- 						style="font-weight: bold;background-color: red;color: white" /> -->
		
							
								<p:outputPanel id="panelPrestazioni"> 
								    <p:spacer height="20px"/>
									<h:panelGrid id="dtPrestazioniGrid" width="100%" styleClass="tableNoBg" columns="1">
		<!-- 								<p:panelGrid cellpadding="10" width="100%" -->
		<!-- 									styleClass="tableNoBg" columns="2"> -->
		<!-- 									<p:outputPanel> -->
		<!-- 										<h:outputText value="Codice della Prestazione: *" -->
		<!-- 											  /> -->
		<!-- 										<p:selectOneMenu id="codicePrestazioneVal" -->
		<!-- 											value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.codicePrestazione}" -->
		<!-- 											style="width:200px; display:block;" -->
		<!-- 											panelStyle="max-width:600px;"> -->
		<!-- 											panelStyle="max-width:200px;" -->
		<!-- 											<f:selectItem noSelectionOption="true" -->
		<!-- 												itemLabel="- seleziona -" /> -->
		<!-- 											<f:selectItems value="#{cc.attrs.sinbaManBean.datiGen.lstPrestazioni}" -->
		<!-- 												var="prest" -->
		<!-- 												itemLabel="#{prest.codice} - #{prest.descrizione}" -->
		<!-- 												itemValue="#{prest.codice}" /> -->
		<!-- 										</p:selectOneMenu> -->
		<!-- 									</p:outputPanel> -->
		<!-- 									<p:commandButton value="Aggiungi +" process="panelPrestazioni" -->
		<!-- 										action="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.aggiungiPrestazione()}" -->
		<!-- 										update=":#{p:component('dtPrestazioniGrid')} :#{p:component('dtPrestazioniGrid')}" /> -->
		<!-- 								</p:panelGrid> -->
		<!-- 								<p:outputPanel> -->
											<p:dataTable id="dtPrestazioni" var="prestazione" width="90%" 
												emptyMessage="Non sono state erogate prestazioni alla data selezionata"
												value="#{cc.attrs.sinbaManBean.lstCodificaPrestazioniSel()}" widgetVar="listaCodificaPrest">
												<f:facet name="header">Prestazioni INPS</f:facet>
												<p:column headerText="Codice" style=" text-align: left">
													<h:outputText value="#{prestazione.codice}" />
												</p:column>
												<p:column headerText="Denominazione" style=" text-align: left">
													<h:outputText value="#{prestazione.denominazione}" />
												</p:column>
												<p:column headerText="Descrizione" style=" text-align: left">
													<h:outputText value="#{prestazione.descrizione}" />
												</p:column>
		<!-- 										<p:column style="width:32px;text-align: center"> -->
		<!-- 											<p:commandButton process="@this" -->
		<!-- 												update=":#{p:component('dtPrestazioniGrid')}" -->
		<!-- 												actionListener="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.rimuoviPrestazione(prestazione)}" -->
		<!-- 												icon="ui-icon-trash" title="Rimuovi"> -->
		<!-- 												<f:setPropertyActionListener value="#{prestazione}" -->
		<!-- 													target="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.codicePrestazione}" /> -->
		<!-- 											</p:commandButton> -->
		<!-- 										</p:column> -->
											</p:dataTable>
		<!-- 								</p:outputPanel> -->
									</h:panelGrid>
								</p:outputPanel>
					</p:scrollPanel>
		
				</p:tab>
		
				<p:tab id="datiFamiglia" title="Dati Famiglia">
		
					<!-- TAB DATI FAMIGLIA - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						<p:outputPanel>
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								
									<h:outputText value="Condizione Minore *"   />
									<p:selectOneMenu id="condizioneMinoreVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.condizioneMinore}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Non orfano" itemValue="1" />
										<f:selectItem itemLabel="Orfano di entrambi" itemValue="2" />
										<f:selectItem itemLabel="Orfano di padre" itemValue="3" />
										<f:selectItem itemLabel="Orfano di madre" itemValue="4" />
										<f:selectItem itemLabel="Genitori ignoti" itemValue="5" />
									</p:selectOneMenu>
									
									<h:outputText value="Minore straniero non accompagnato *"   />
									<p:selectOneButton id="minStranieroAccVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.minoreStranieroNonAccompagnato}"
										style="width:200px">
										<f:selectItem itemLabel="SI" itemValue="1" />
										<f:selectItem itemLabel="NO" itemValue="2" />
									</p:selectOneButton>
									
									<h:outputText value="Luogo di vita *"   />
									<p:selectOneMenu id="luogoVitaVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.luogoVita}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Nella sua famiglia" itemValue="1" />
										<f:selectItem itemLabel="Presso parenti" itemValue="2" />
										<f:selectItem itemLabel="In famiglia affidataria" itemValue="3" />
										<f:selectItem itemLabel="In struttura residenziale sociale" itemValue="4" />
										<f:selectItem itemLabel="In struttura residenziale sanitaria" itemValue="5" />
										<f:selectItem itemLabel="In istituto penale minorile" itemValue="6" />
										<f:selectItem itemLabel="Con amici e conoscenti" itemValue="7" />
										<f:selectItem itemLabel="Senza dimora" itemValue="8" />
									</p:selectOneMenu>
									
							</p:panelGrid>
							
								<p:fieldset id="panelFamiglia" legend="Dati relativi alla composizione familiare">
									<p:panelGrid id="panelComboFamiglia" cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
											<h:outputText value="Composizione Famiglia *"   />
											<p:selectOneMenu id="composizioneFamigliaVal" 
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.composizioneFamiglia}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstTipiComponente}"/>
												<p:ajax event="change" update="panelFamiglia"/>
											</p:selectOneMenu>
										
											<h:outputText value="Cittadinanza #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" />
											<p:selectOneMenu id="cittadinanzaVal" filter="true" filterMatchMode="contains"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.cittadinanza}" style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstCittadinanza}"
													var="nazione"
													itemLabel="#{nazione.nazionalita} (#{nazione.nazione})"
													itemValue="#{nazione.iso3166}-#{nazione.nazione}" />
											</p:selectOneMenu>
										
											<h:outputText value="Regione #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" />
											<p:selectOneMenu id="regioneFamVal" filter="true" filterMatchMode="contains"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.regioneFam}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstRegioni}"/>
											</p:selectOneMenu>
										
											<h:outputText value="Titolo di studio #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" />
											<p:selectOneMenu id="titStudioVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.titoloStudio}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstTitoliStudio}" />
											</p:selectOneMenu>
										
											<h:outputText value="Occupazione #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}"/>
											<p:selectOneMenu id="occupazioneVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.occupazione}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstOccupazioni}" />
											</p:selectOneMenu>
											
											<p:spacer width="10px"/>
											<p:commandButton value="Aggiungi" process="panelFamiglia" icon="ui-icon-plus"
												action="#{cc.attrs.sinbaManBean.aggiungiComponenteFamiglia()}"
												update=":#{p:component('dtFamigliariGrid')} :#{p:component('panelComboFamiglia')}" />
											
									</p:panelGrid>
		
									<p:outputPanel id="dtFamigliariGrid" width="100%">
										<p:dataTable id="dtFamigliari" var="componente" 
													 value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.lstComponentiFamiglia}"
													 emptyMessage="Dati non presenti">
											<p:column headerText="Composizione Famiglia">
												<h:outputText value="#{componente.tipo}" />
											</p:column>
											<p:column headerText="Cittadinanza">
												<h:outputText value="#{componente.cittadinanza}" />
											</p:column>
											<p:column headerText="Regione">
												<h:outputText value="#{componente.regione}" />
											</p:column>
											<p:column headerText="Titolo di studio">
												<h:outputText value="#{componente.titoloStudio}" />
											</p:column>
											<p:column headerText="Occupazione">
												<h:outputText value="#{componente.occupazione}" />
											</p:column>
											<p:column style="width:32px;text-align: center">
												<p:commandButton process="@this"
													update=":#{p:component('dtFamigliariGrid')}"
													actionListener="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.rimuoviComponente(componente.tipoID)}"
													icon="ui-icon-trash" title="Rimuovi" />
											</p:column>
										</p:dataTable>
									</p:outputPanel>
								</p:fieldset>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
		
				<p:tab id="disabilita" title="Disabilità">
					<!-- TAB DISABILITA' - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						<p:outputPanel>
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="2">
								
								<h:outputText value="Disabile *" />
								<p:selectOneButton id="disabileaVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.disabile}" style="width:200px">
									<f:selectItem itemLabel="SI" itemValue="1" />
									<f:selectItem itemLabel="NO" itemValue="2" />
									<p:ajax event="change" process="@this" listener="#{cc.attrs.sinbaManBean.onChangeDisabile}" update="tipoDisabilitaVal, certInvaliditaCivileVal"/>
								</p:selectOneButton>
	
								<h:outputText value="Tipo disabilità "  />
								<p:selectOneMenu id="tipoDisabilitaVal" 
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.tipoDisabilita}"
									disabled="#{!cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.disabileSelected}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemLabel="Fisica" itemValue="1" />
									<f:selectItem itemLabel="Psichica" itemValue="2" />
									<f:selectItem itemLabel="Sensoriale" itemValue="3" />
									<f:selectItem itemLabel="Plurima" itemValue="4" />
								</p:selectOneMenu>
	
								<h:outputText value="Certificazione invalidità Civile "   />
								<p:selectOneMenu id="certInvaliditaCivileVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.certificazioneInvCivile}"
									disabled="#{!cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.disabileSelected}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="Certificazione invalidità civile parziale non inferiore al 75%" />
									<f:selectItem itemValue="2" itemLabel="Certificazione invalidità civile totale (100%) con indennità di accompagnamento"/>
									<f:selectItem itemValue="3" itemLabel="Certificazione invalidità civile totale (100%) senza indennità di accompagnamento"/>
									<f:selectItem itemValue="4" itemLabel="Certificazione NPI" />
									<f:selectItem itemValue="5" itemLabel="Certificazione 1.104"  />
								</p:selectOneMenu>
	
							</p:panelGrid>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
		
				<p:tab id="segnalazioni" title="Segnalazioni">
					<!-- TAB SEGNALAZIONI - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						<p:outputPanel id="panelSegnalazioni">
							<p:panelGrid  cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
							
									<h:outputText value="Data prima segnalazione *"/>
									<!-- formato voluto da INPS in export "MM/yyyy" dataPatternLabel="mm/aaaa" -->
									<webred:pnlData dataReq="false"
										dataValue="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.dataPrimaSegnalazione}"
										dataReqMes="Immettere una data" dataPattern="dd/MM/yyyy"
										dataPatternLabel="gg/mm/aaaa" />
							
									<h:outputText value="Fonte della segnalazione *"   />
									<p:selectOneMenu id="fonteSegnalazioneVal" filter="true" filterMatchMode="contains"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.fonte}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemValue="1" itemLabel="servizio sociale minori della giustizia minorile"  />
										<f:selectItem itemValue="2" itemLabel="altro servizio sociale (consultori, centri famiglia, di altro ambito/distretto)"/>
										<f:selectItem itemValue="3" itemLabel="servizi sanitari / medico di base / pediatra"/>
										<f:selectItem itemValue="4" itemLabel="privato sociale / volontariato"/>
										<f:selectItem itemValue="5" itemLabel="forze dell'ordine"  />
										<f:selectItem itemValue="6" itemLabel="beneficiario stesso"  />
										<f:selectItem itemValue="7" itemLabel="genitori affidatari / tutore"/>
										<f:selectItem itemValue="8" itemLabel="genitori / fratelli / altri familiari conviventi"/>
										<f:selectItem itemValue="9" itemLabel="parenti non conviventi" />
										<f:selectItem itemValue="10" itemLabel="tribunale ordinario"  />
										<f:selectItem itemValue="11" itemLabel="autorità giudiziarie minorili" />
										<f:selectItem itemValue="12" itemLabel="professionista privato" />
										<f:selectItem itemValue="13" itemLabel="scuola"  />
										<f:selectItem itemValue="14" itemLabel="vicinato o conoscenti"  />
									</p:selectOneMenu>
		
									<h:outputText value="Valutazione del minore *"   />
									<p:selectOneMenu id="valutazioneMinoreVal" filter="true" filterMatchMode="contains"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.valutazioneMinore}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemValue="1" itemLabel="nessuna specifica problematica"/>
										<f:selectItem itemValue="2" itemLabel="problemi relazionali e comportamentali"/>
										<f:selectItem itemValue="3" itemLabel="dipendenze"  />
										<f:selectItem itemValue="4" itemLabel="presunto stato di abbandono"/>
										<f:selectItem itemValue="5" itemLabel="problemi sanitari"  />
										<f:selectItem itemValue="6" itemLabel="violenza sessuale subita, prostituzione, tratta, pedopornografia"/>
										<f:selectItem itemValue="7" itemLabel="altre forme di violenza e maltrattamento subite"/>
										<f:selectItem itemValue="8" itemLabel="comportamenti di grave devianza"/>
										<f:selectItem itemValue="9" itemLabel="problemi di autonomia, disabilità"/>
										<f:selectItem itemValue="10" itemLabel="coinvolto in procedure penali"/>
										<f:selectItem itemValue="11" itemLabel="gestante/Madre minorenne"/>
										<f:selectItem itemValue="12" itemLabel="minore straniero non accompagnato"/>
										<f:selectItem itemValue="13" itemLabel="abbandono scolastico" />
									</p:selectOneMenu>
		
									<h:outputText value="Valutazione famiglia del minore *"   />
									<p:selectOneMenu id="valutazioneFamigliaMinoreVal" filter="true" filterMatchMode="contains"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.valutazioneFamiglia}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemValue="1" itemLabel="nessuna specifica problematica"/>
										<f:selectItem itemValue="2" itemLabel="fragilità/inadeguatezza genitoriale, problematiche socio-ducative e relazionali" />
										<f:selectItem itemValue="3" itemLabel="dipendenze"  />
										<f:selectItem itemValue="4" itemLabel="problematiche psichiatriche"/>
										<f:selectItem itemValue="5" itemLabel="altre problematiche sanitarie" />
										<f:selectItem itemValue="6" itemLabel="grave conflittualità familiare"/>
										<f:selectItem itemValue="7" itemLabel="famiglia maltrattante"  />
										<f:selectItem itemValue="8" itemLabel="famiglia abusante" />
										<f:selectItem itemValue="9" itemLabel="problemi giudiziari"  />
										<f:selectItem itemValue="10" itemLabel="fallimento affido preadottivo nel I anno"/>
										<f:selectItem itemValue="11" itemLabel="inadempiezza obblighi sanitari"/>
										<f:selectItem itemValue="12" itemLabel="difficoltà economiche"  />
										<f:selectItem itemValue="13" itemLabel="difficoltà abitative"  />
									</p:selectOneMenu>
		
									<h:outputText value="Segnalazione autorità giudiziaria *"/>
									<p:selectOneButton id="segnAutoritaGuidVal" 
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.autoritaGiudiziaria}">
										<f:selectItem itemLabel="SI" itemValue="1" />
										<f:selectItem itemLabel="NO" itemValue="2" />
									</p:selectOneButton>
		
									<h:outputText value="Data segnalazione"/>
									<!-- formato voluto da INPS in export "MM/yyyy" dataPatternLabel="mm/aaaa" -->
									<webred:pnlData 
										dataValue="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.dataSegnalazione}"
										dataReqMes="Immettere una data" dataPattern="dd/MM/yyyy"
										dataPatternLabel="gg/mm/aaaa" />
							
		
									<h:outputText value="Provvedimento giudiziario *"/>
									<p:selectOneButton id="provvGiudVal" 
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.provvedimentoGiudiziario}">
										<f:selectItem itemLabel="SI" itemValue="1" />
										<f:selectItem itemLabel="NO" itemValue="2" />
									</p:selectOneButton>
		
									<h:outputText value="Data del provvedimento giudiziario "/>
									<!--  formato voluto da INPS in export "MM/yyyy" dataPatternLabel="mm/aaaa" -->
									<webred:pnlData dataReq="false"
										dataValue="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.dataProvvedimento}"
										dataReqMes="Immettere una data" dataPattern="dd/MM/yyyy"
										dataPatternLabel="gg/mm/aaaa" />				
							</p:panelGrid>
							<p:spacer height="30px"/>
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								
								<h:outputText value="Autorità del provvedimento giudiziario "   />
								<p:selectOneMenu id="autoritaProvvGiudVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.autoritaProvvedimento}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemLabel="Giudice tutelare" itemValue="1" />
									<f:selectItem itemLabel="Tribunale per i minori" itemValue="2" />
									<f:selectItem itemLabel="Procura per i minori" itemValue="3" />
									<f:selectItem itemLabel="Tribunale ordinario" itemValue="4" />
								</p:selectOneMenu>					

								<h:outputText value="Responsabilità tutela " />
								<p:selectOneMenu id="potestaTutelaVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.potestaTutela}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="sospensione responsabilità genitoriale"/>
									<f:selectItem itemValue="2" itemLabel="decadenza responsabilità genitoriale"/>
									<f:selectItem itemValue="3" itemLabel="prescrizione ai genitori" />
									<f:selectItem itemValue="4" itemLabel="tutela a parenti o altri soggetti"/>
									<f:selectItem itemValue="5" itemLabel="curatela"  />
								</p:selectOneMenu>

								<h:outputText value="Tipo del provvedimento "/>
								<p:selectOneMenu id="tipoProvvGiudVal" filter="true" filterMatchMode="contains"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.tipoProvvedimento}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="adottabilità" />
									<f:selectItem itemValue="2" itemLabel="adozione nazionale"/>
									<f:selectItem itemValue="3" itemLabel="adozione internazionale"  />
									<f:selectItem itemValue="4" itemLabel="affidamento familiare" />
									<f:selectItem itemValue="5" itemLabel="affido al servizio sociale" />
									<f:selectItem itemValue="6" itemLabel="affido a uno dei genitori in caso di separazione"/>
									<f:selectItem itemValue="7" itemLabel="vigilanza" />
									<f:selectItem itemValue="8" itemLabel="post-adozione 'allontanamento del minore in via d'emergenza (art.403 c.c.)'"/>
								</p:selectOneMenu>
									
							</p:panelGrid>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
		
				<p:tab id="affidamento" title="Affidamento">
				
					<!-- TAB AFFIDAMENTO - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
					 			
						<p:outputPanel>
						<p:panelGrid id="affidamentoPAI" cellpadding="10" width="100%" styleClass="tableNoBg" columns="2">
						
						 <h:outputText id="msgDaPAI" rendered="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.datiDaProgettoPAI}"  value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.messaggioDaPai}"
													style="font-weight: bold;background-color: red;color: white" />
								 				
						</p:panelGrid>	
						
						<p:fieldset legend="Dati relativi all'affido">
							<p:panelGrid id="affidamentoForma" cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
							
								<h:outputText value="Forme di intervento"   />
								<p:selectOneButton id="formeInterventoVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.formaIntervento}"
									style="width:200px">
									<f:selectItem itemLabel="Consensuale" itemValue="1" />
									<f:selectItem itemLabel="Giudiziario" itemValue="2" />
								</p:selectOneButton>
						 				 
								<h:outputText value="Tipo di intervento" style="font-weight: bold;" />
								<p:selectOneButton id="tipoInterventoVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.tipoIntervento}">
									<f:selectItem itemLabel="Intrafamiliare" itemValue="1" />
									<f:selectItem itemLabel="Eterofamiliare" itemValue="2" />
								</p:selectOneButton>
										 
								<h:outputText value="Durata" style="font-weight: bold;" />
								<p:selectOneButton id="durataVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.durata}">
									<f:selectItem itemLabel="Tempo pieno" itemValue="1" />
									<f:selectItem itemLabel="Tempo parziale" itemValue="2" />
								</p:selectOneButton>
							 
								<h:outputText value="Carattere"  />
								<p:selectOneButton id="carattereVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.carattere}">
									<f:selectItem itemLabel="Residenziale" itemValue="1" />
									<f:selectItem itemLabel="Diurno" itemValue="2" />
								</p:selectOneButton>
						 
								<h:outputText value="Esito"   />
						 	 	<p:selectOneMenu id="esitoVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.esito}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="rientrato nella famiglia di origine"/>
									<f:selectItem itemValue="2" itemLabel="affidato ad altro nucleo familiare"/>
									<f:selectItem itemValue="3" itemLabel="adottato" />
									<f:selectItem itemValue="4" itemLabel="inserito in struttura socio-educativa"/>
									<f:selectItem itemValue="5" itemLabel="inserito in struttura sanitaria"/>
									<f:selectItem itemValue="6" itemLabel="vita in autonomia" />
									<f:selectItem itemValue="7" itemLabel="rimpatriato" />
									<f:selectItem itemValue="8" itemLabel="destinazione ignota" />
									<f:selectItem itemValue="9" itemLabel="altro" />
								</p:selectOneMenu>

							</p:panelGrid>
						</p:fieldset>
						<p:fieldset legend="Dati relativi all'inserimento residenziale">
							<p:panelGrid id="affidamentoCarattere" cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
						
								<h:outputText value="Carattere inserimento"  />
								<p:selectOneMenu id="carattereInserimentoVal" filter="true" filterMatchMode="contains"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.carattereInserimento}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="familiare-prevalente accoglienza abitativa"/>
									<f:selectItem itemValue="2" itemLabel="familiare-prevalente funzione tutelare"/>
									<f:selectItem itemValue="3" itemLabel="familiare-funzione socio-educativa"/>
									<f:selectItem itemValue="4" itemLabel="comunitario-accoglienza di emergenze"/>
									<f:selectItem itemValue="5" itemLabel="comunitario-prevalente accoglienza abitativa"/>
									<f:selectItem itemValue="6" itemLabel="comunitario-prevalente funzione tutelare"/>
									<f:selectItem itemValue="7" itemLabel="comunitario-funzione socio-educativa"/>
									<f:selectItem itemValue="8" itemLabel="comunitario-funzione educativa-psicologica"/>
									<f:selectItem itemValue="9" itemLabel="comunitario-funzione integrazione socio-sanitaria bassa"/>
									<f:selectItem itemValue="10" itemLabel="comunitario-funzione integrazione socio-sanitaria medio-alta"/>
								</p:selectOneMenu>
								
								<h:outputText value="Forma inserimento"  />
								<p:selectOneButton id="formaInsVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.formaInserimento}"
									style="width:200px">
									<f:selectItem itemLabel="Consensuale" itemValue="1" />
									<f:selectItem itemLabel="Giudiziaria" itemValue="2" />
								</p:selectOneButton>
								
								<h:outputText value="Tipo inserimento"  />
								<p:selectOneButton id="tipoInsVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.tipoInserimento}">
									<f:selectItem itemLabel="Con genitore" itemValue="1" />
									<f:selectItem itemLabel="Senza genitore" itemValue="2" />
								</p:selectOneButton>
		
								<h:outputText value="Esito inserimento struttura"  />
								<p:selectOneMenu id="esitoInserimentoStrutturaVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.esitoInserimentoStruttura}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="rientrato nella famiglia di origine"/>
									<f:selectItem itemValue="2" itemLabel="in famiglia affidataria o affidatario"/>
									<f:selectItem itemValue="3" itemLabel="adottato"/>
									<f:selectItem itemValue="4" itemLabel="inserito in altra struttura socio-educativa"/>
									<f:selectItem itemValue="5" itemLabel="inserito in struttura sanitaria"/>
									<f:selectItem itemValue="6" itemLabel="reso autonomo"  />
									<f:selectItem itemValue="7" itemLabel="rimpatriato"  />
									<f:selectItem itemValue="8" itemLabel="destinazione ignota" />
									<f:selectItem itemValue="9" itemLabel="altro" />
								</p:selectOneMenu>
									
								<h:outputText value="Motivazione chiusura carico"  />
								<p:selectOneMenu id="motChiusuraCaricoVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.motivazioneChiusuraCarico}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="passaggio a servizio territoriale altro ambito/distretto della stessa regione"/>
									<f:selectItem itemValue="2" itemLabel="passaggio a servizio territoriale altro ambito/distretto di altra regione"/>
									<f:selectItem itemValue="3" itemLabel="raggiunta età maggiorenne"/>
									<f:selectItem itemValue="4" itemLabel="conclusione degli interventi e della presa in carico per risoluzione dello stato di bisogno"/>
									<f:selectItem itemValue="5" itemLabel="uscita richiesta dal minore utente o dalla famiglia"/>
									<f:selectItem itemValue="6" itemLabel="rimpatriato"  />
									<f:selectItem itemValue="7" itemLabel="irreperibilità" />
									<f:selectItem itemValue="8" itemLabel="decesso"  />
									<f:selectItem itemValue="9" itemLabel="altro"/>
								</p:selectOneMenu>
									
								<h:outputText value="Situazione chiusura carico"  />
								<p:selectOneMenu id="sitChiusuraCaricoVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.situazioneChiusuraCarico}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="nella famiglia di origine"/>
									<f:selectItem itemValue="2" itemLabel="vita in autonomia (in appartamento anche con altri non familiari o parenti)"/>
									<f:selectItem itemValue="3" itemLabel="rimane nella famiglia affidataria anche se maggiorenne"/>
									<f:selectItem itemValue="4" itemLabel="rimane nella struttura residenziale socio-assistenziale anche se maggiorenne"/>
									<f:selectItem itemValue="5" itemLabel="collocato in struttura residenziale sanitaria"/>
									<f:selectItem itemValue="6" itemLabel="adottato in una nuova famiglia"/>
									<f:selectItem itemValue="7" itemLabel="in istituto penale" />
									<f:selectItem itemValue="8" itemLabel="destinazione ignota"  />
								</p:selectOneMenu>
		
								<h:outputText value="Collaborazione interventi"  />
								<p:selectOneMenu id="collInterventiVal"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.collaborazioneInterventi}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemValue="1" itemLabel="SERT" />
									<f:selectItem itemValue="2" itemLabel="NPI" />
									<f:selectItem itemValue="3" itemLabel="psicologia"  />
									<f:selectItem itemValue="4" itemLabel="clinica/dsm" />
									<f:selectItem itemValue="5" itemLabel="altri servizi sociali (consultorio, centri, famiglia, adulti, di altro abito/distretto)"/>
									<f:selectItem itemValue="6" itemLabel="ussm ministero giustizia"  />
									<f:selectItem itemValue="7" itemLabel="scuola"  />
									<f:selectItem itemValue="8" itemLabel="servizi privato sociale associazionismo, volontariato"/>
									<f:selectItem itemValue="9" itemLabel="altro" />
								</p:selectOneMenu>
							
							</p:panelGrid>
							</p:fieldset>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
			</p:tabView>
		
		
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<h:panelGrid columns="2" styleClass="centerAlign">
					<p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
					<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</h:panelGrid>
			</p:confirmDialog>
			

		</p:outputPanel>
			
		</composite:implementation>
	</h:body>
		
</html>