<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     	xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:fn="http://java.sun.com/jsp/jstl/functions"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:p="http://primefaces.org/ui"
		xmlns:c="http://java.sun.com/jsp/jstl/core"
	  	xmlns:composite="http://java.sun.com/jsf/composite">
      
	<h:head>
		<title>Gestione Schede valutazione Sinba</title>
	</h:head>
	<h:body>
		<composite:interface componentType="pnlValSinba">
			<composite:attribute name="sinbaManBean" type="it.webred.cs.json.valSinba.IValSinba" required="true"/>
			<composite:attribute name="copiaDatiDaUltimaValutazione"  method-signature="void action()"/>
			<composite:attribute name="refreshDueLivelli" method-signature="void action()"/>
			<composite:attribute name="esisteStorico" type="java.lang.Boolean" required="false" default="false"/>
		</composite:interface>
		<composite:implementation 
			xmlns:webred="http://java.sun.com/jsf/composite/webred"
			xmlns:webredcs="http://java.sun.com/jsf/composite/webredcs">
			
			<p:outputPanel id="schedaSinbaContent">
			
				<p:commandButton value="Recupera dati da ultima valutazione"
								action="#{cc.attrs.copiaDatiDaUltimaValutazione}"
								immediate="true" update=":#{p:component('schedaSinbaContent')}" process="@this"
								partialSubmit="true" rendered="#{cc.attrs.esisteStorico and cc.attrs.sinbaManBean.isNew() and !cc.attrs.sinbaManBean.isCopia()}" />
			
			<p:tabView id="tabViewValMultidimMinori_v1" 
				rendered="#{cc.attrs.sinbaManBean.versionLowerCase eq '1'}" 
				style="padding:0;"
				orientation="top" scrollable="true" effect="fade" activeIndex="0">
		      
				<p:tab id="datiGenerali" title="Dati Generali">
		
					<!-- TAB DATI GENERALI - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								<h:panelGroup>
									<h:outputText value="Data di inserimento della valutazione: *" style="font-weight: bold;" />
									<p:inputText id="iTxtHidden" style="visibility:hidden;" />	
								</h:panelGroup>
								<p:calendar value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.dataRiferimentoValutazione}" pattern="dd/MM/yyyy" size="10"
							           disabled = "#{!cc.attrs.sinbaManBean.isNew()}" placeholder="gg/mm/aaaa" mask="true" onchange="PF('listaCodificaPrest').filter();" readonlyInput="true">
							          <p:ajax  event="dateSelect" process="@this" listener="#{cc.attrs.sinbaManBean.initCalendar}" update="@this :#{p:component('dtPrestazioni')}  :#{p:component('panelSegnalazioni')}  :#{p:component('affidamentoPAI')} :#{p:component('affidamentoForma')} :#{p:component('affidamentoCarattere')}"/>
							          <f:ajax  event="change" process="@this" listener="#{cc.attrs.sinbaManBean.initCalendar}" update="@this :#{p:component('dtPrestazioni')} :#{p:component('panelSegnalazioni')}  :#{p:component('affidamentoPAI')} :#{p:component('affidamentoForma')} :#{p:component('affidamentoCarattere')}" />
							     </p:calendar>
								<h:outputText value="Codice anonimo beneficiario: *" style="font-weight: bold;" />
								<p:inputText id="codBeneficiarioaVal" disabled="true"
									required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.codiceAnonimoBeneficiario}" />
								<h:outputText value="Anno di nascita: *" style="font-weight: bold;" />
								<p:inputText id="annoNascitaVal" disabled="true"
									required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.annoNascita}" />
<!-- 								<p:selectOneMenu id="annoNascitaVal" -->
<!-- 									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.annoNascita}" -->
<!-- 									dataReq="false" style="width:200px"> -->
<!-- 									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" /> -->
<!-- 									<f:selectItems value="#{cc.attrs.sinbaManBean.datiGen.lstAnni}" /> -->
<!-- 								</p:selectOneMenu> -->
								
								<h:outputText value="Nazione di residenza del beneficiario: *" style="font-weight: bold;" />
								<p:selectOneMenu id="nazioneVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.nazioneResidenzaBeneficiario}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItems
										value="#{cc.attrs.sinbaManBean.datiGen.lstNazioneResidenza}"
										var="nazione" itemLabel="#{nazione.nazione}"
										itemValue="#{nazione.iso3166}" />
								</p:selectOneMenu>
								
								<h:outputText value="Scuola frequentata: *"
									style="font-weight: bold;" />
								<p:selectOneMenu id="scuolaVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.scuolaFrequentata}"
									style="width:200px">
									<f:selectItem itemLabel="- seleziona -" noSelectionOption="true"  />
									<f:selectItem itemLabel="Nessuna Scuola" itemValue="1" />
									<f:selectItem itemLabel="Struttura" itemValue="2" />
									<f:selectItem itemLabel="Asilo nido" itemValue="3" />
									<f:selectItem itemLabel="Scuola dell'infanzia" itemValue="4" />
									<f:selectItem itemLabel="Scuola primaria" itemValue="5" />
									<f:selectItem itemLabel="Scuola secondaria I grado" itemValue="6" />
									<f:selectItem itemLabel="Scuola secondaria II grado" itemValue="7" />
									<f:selectItem itemLabel="Corso formazione professionale" itemValue="8" />
								</p:selectOneMenu>
								
								<h:outputText value="Condizione lavoro: *"
									style="font-weight: bold;" />
								<p:selectOneMenu id="condizioneLavoroVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.condizioneLavoro}" style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem
										itemLabel="Inattivo (non in età di lavoro, non ha e non cerca lavoro)"
										itemValue="1" />
									<f:selectItem itemLabel="Occupato" itemValue="2" />
									<f:selectItem
										itemLabel="Disoccupato alla ricerca di prima occupazione"
										itemValue="3" />
									<f:selectItem itemLabel="In cerca di prima occupazione"
										itemValue="4" />
								</p:selectOneMenu>
							
							</p:panelGrid>
		
							<p:spacer height="40px"/>
		
							<h:outputText
								value="La profilazione ISEE non è obbligatoria, ma è consigliabile inserirla al fine di una corretta analisi multidimensionale prevista dal D.M. 206/2014, art.5, comma 4."
								style="font-weight: bold;background-color: red;color: white" />
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								 
									<h:outputText value="Numero componenti ISEE" style="font-weight: bold;" />
									<p:selectOneMenu id="componentiIseeVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.numeroComponentiISEE}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="0" itemValue="0" />
										<f:selectItem itemLabel="1" itemValue="1" />
										<f:selectItem itemLabel="2" itemValue="2" />
										<f:selectItem itemLabel="3" itemValue="3" />
										<f:selectItem itemLabel="4" itemValue="4" />
										<f:selectItem itemLabel="5" itemValue="5" />
										<f:selectItem itemLabel="6" itemValue="6" />
										<f:selectItem itemLabel="7" itemValue="7" />
										<f:selectItem itemLabel="8" itemValue="8" />
										<f:selectItem itemLabel="9" itemValue="9" />
									</p:selectOneMenu>
									 
									<h:outputText value="Fascia di età del beneficiario"
										style="font-weight: bold;" />
									<p:selectOneMenu id="fasciaEtaVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.fasciaEtaBeneficiario}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="0-3 anni" itemValue="1" />
										<f:selectItem itemLabel="3-6 anni" itemValue="2" />
										<f:selectItem itemLabel="6-9 anni" itemValue="3" />
										<f:selectItem itemLabel="9-12 anni" itemValue="4" />
										<f:selectItem itemLabel="12-15 anni" itemValue="5" />
										<f:selectItem itemLabel="15-18 anni" itemValue="6" />
									</p:selectOneMenu>
									 
									<h:outputText value="Fascia ISEE del beneficiario" style="font-weight: bold;" />
									<p:selectOneMenu id="fasciaIseeVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.fasciaISEEBeneficiario}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Valore ISEE=0" itemValue="1" />
										<f:selectItem itemLabel="Tra 0.01 e 3000 Euro" itemValue="2" />
										<f:selectItem itemLabel="Tra 3000.01 e 6000 Euro" itemValue="3" />
										<f:selectItem itemLabel="Tra 6000.01 e 9000 Euro" itemValue="4" />
										<f:selectItem itemLabel="Tra 9000.01 e 12000 Euro" itemValue="5" />
										<f:selectItem itemLabel="Tra 12000.01 e 15000 Euro"
											itemValue="6" />
										<f:selectItem itemLabel="Tra 15000.01 e 20000 Euro"
											itemValue="7" />
										<f:selectItem itemLabel="Oltre i 20000 Euro" itemValue="8" />
									</p:selectOneMenu>
									 
							</p:panelGrid>
		
		<!-- 					<h:outputText -->
		<!-- 						value="Il campo 'Codice della Prestazione' è a scelta multipla.  -->
		<!-- 										Vengono selezionati i codici identificativi delle prestazioni." -->
		<!-- 						style="font-weight: bold;background-color: red;color: white" /> -->
		
							
								<p:outputPanel id="panelPrestazioni"> 
								    <p:spacer height="20px"/>
									<h:panelGrid id="dtPrestazioniGrid" width="100%" styleClass="tableNoBg" columns="1">
		<!-- 								<p:panelGrid cellpadding="10" width="100%" -->
		<!-- 									styleClass="tableNoBg" columns="2"> -->
		<!-- 									<p:outputPanel> -->
		<!-- 										<h:outputText value="Codice della Prestazione: *" -->
		<!-- 											style="font-weight: bold;" /> -->
		<!-- 										<p:selectOneMenu id="codicePrestazioneVal" -->
		<!-- 											value="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.codicePrestazione}" -->
		<!-- 											style="width:200px; display:block;" -->
		<!-- 											panelStyle="max-width:600px;"> -->
		<!-- 											panelStyle="max-width:200px;" -->
		<!-- 											<f:selectItem noSelectionOption="true" -->
		<!-- 												itemLabel="- seleziona -" /> -->
		<!-- 											<f:selectItems value="#{cc.attrs.sinbaManBean.datiGen.lstPrestazioni}" -->
		<!-- 												var="prest" -->
		<!-- 												itemLabel="#{prest.codice} - #{prest.descrizione}" -->
		<!-- 												itemValue="#{prest.codice}" /> -->
		<!-- 										</p:selectOneMenu> -->
		<!-- 									</p:outputPanel> -->
		<!-- 									<p:commandButton value="Aggiungi +" process="panelPrestazioni" -->
		<!-- 										action="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.aggiungiPrestazione()}" -->
		<!-- 										update=":#{p:component('dtPrestazioniGrid')} :#{p:component('dtPrestazioniGrid')}" /> -->
		<!-- 								</p:panelGrid> -->
		<!-- 								<p:outputPanel> -->
											<p:dataTable id="dtPrestazioni" var="prestazione" width="90%" 
												emptyMessage="Non sono state erogate prestazioni alla data selezionata"
												value="#{cc.attrs.sinbaManBean.lstCodificaPrestazioniSel()}" widgetVar="listaCodificaPrest">
												<f:facet name="header">Prestazioni INPS</f:facet>
												<p:column headerText="Codice" style=" text-align: left">
													<h:outputText value="#{prestazione.codice}" />
												</p:column>
												<p:column headerText="Denominazione" style=" text-align: left">
													<h:outputText value="#{prestazione.denominazione}" />
												</p:column>
												<p:column headerText="Descrizione" style=" text-align: left">
													<h:outputText value="#{prestazione.descrizione}" />
												</p:column>
		<!-- 										<p:column style="width:32px;text-align: center"> -->
		<!-- 											<p:commandButton process="@this" -->
		<!-- 												update=":#{p:component('dtPrestazioniGrid')}" -->
		<!-- 												actionListener="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.rimuoviPrestazione(prestazione)}" -->
		<!-- 												icon="ui-icon-trash" title="Rimuovi"> -->
		<!-- 												<f:setPropertyActionListener value="#{prestazione}" -->
		<!-- 													target="#{cc.attrs.sinbaManBean.jsonCurrent.datiGenerali.codicePrestazione}" /> -->
		<!-- 											</p:commandButton> -->
		<!-- 										</p:column> -->
											</p:dataTable>
		<!-- 								</p:outputPanel> -->
									</h:panelGrid>
								</p:outputPanel>
					</p:scrollPanel>
		
				</p:tab>
		
				<p:tab id="datiFamiglia" title="Dati Famiglia">
		
					<!-- TAB DATI FAMIGLIA - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						<p:outputPanel>
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								
									<h:outputText value="Condizione Minore: *" style="font-weight: bold;" />
									<p:selectOneMenu id="condizioneMinoreVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.condizioneMinore}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Non orfano" itemValue="1" />
										<f:selectItem itemLabel="Orfano di entrambi" itemValue="2" />
										<f:selectItem itemLabel="Orfano di padre" itemValue="3" />
										<f:selectItem itemLabel="Orfano di madre" itemValue="4" />
										<f:selectItem itemLabel="Genitori ignoti" itemValue="5" />
									</p:selectOneMenu>
									
									<h:outputText value="Minore Straniero Accompagnato: *" style="font-weight: bold;" />
									<p:selectOneButton id="minStranieroAccVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.minoreStranieroAccompagnato}"
										style="width:200px">
										<f:selectItem itemLabel="SI" itemValue="1" />
										<f:selectItem itemLabel="NO" itemValue="2" />
									</p:selectOneButton>
									
									<h:outputText value="Luogo di vita: *" style="font-weight: bold;" />
									<p:selectOneMenu id="luogoVitaVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.luogoVita}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Nella sua famiglia" itemValue="1" />
										<f:selectItem itemLabel="Presso parenti" itemValue="2" />
										<f:selectItem itemLabel="In famiglia affidataria" itemValue="3" />
										<f:selectItem itemLabel="In struttura residenziale sociale" itemValue="4" />
										<f:selectItem itemLabel="In struttura residenziale sanitaria" itemValue="5" />
										<f:selectItem itemLabel="In istituto penale minorile" itemValue="6" />
										<f:selectItem itemLabel="Con amici e conoscenti" itemValue="7" />
										<f:selectItem itemLabel="Senza dimora" itemValue="8" />
									</p:selectOneMenu>
									
									<h:outputText value="Nazione di residenza: *" style="font-weight: bold;" />
									<p:selectOneMenu id="nazioneRedidenzaVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.nazioneResidenza}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstNazioni}"
											var="nazione" itemLabel="#{nazione.nazione}"
											itemValue="#{nazione.iso3166}" />
									</p:selectOneMenu>
								
									<h:outputText value="Regione: *" style="font-weight: bold;" />
									<p:selectOneMenu id="regioneVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.regione}" style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstRegioni}"/>
									</p:selectOneMenu>
								
							</p:panelGrid>
							
								<p:fieldset id="panelFamiglia" legend="Dati relativi alla composizione familiare">
									<p:panelGrid id="panelComboFamiglia" cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
											<h:outputText value="Composizione Famiglia: *" style="font-weight: bold;" />
											<p:selectOneMenu id="composizioneFamigliaVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.composizioneFamiglia}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstTipiComponente}"/>
												<p:ajax event="change" update="panelFamiglia"/>
											</p:selectOneMenu>
										
											<h:outputText value="Cittadinanza: #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" 
														  style="font-weight: bold;" />
											<p:selectOneMenu id="cittadinanzaVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.cittadinanza}" style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstCittadinanza}"
													var="nazione"
													itemLabel="#{nazione.nazionalita} (#{nazione.nazione})"
													itemValue="#{nazione.iso3166}-#{nazione.nazione}" />
											</p:selectOneMenu>
										
											<h:outputText value="Regione: #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" 
														  style="font-weight: bold;" />
											<p:selectOneMenu id="regioneFamVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.regioneFam}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstRegioni}"/>
											</p:selectOneMenu>
										
											<h:outputText value="Titolo di studio: #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" 
														  style="font-weight: bold;" />
											<p:selectOneMenu id="titStudioVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.titoloStudio}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstTitoliStudio}" />
											</p:selectOneMenu>
										
											<h:outputText value="Occupazione: #{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.genitoreSelected ? '*' : ''}" style="font-weight: bold;" />
											<p:selectOneMenu id="occupazioneVal" required="false"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.occupazione}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItems value="#{cc.attrs.sinbaManBean.datiFam.lstOccupazioni}" />
											</p:selectOneMenu>
											
											<p:spacer width="10px"/>
											<p:commandButton value="Aggiungi" process="panelFamiglia" icon="ui-icon-plus"
												action="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.aggiungiComponente()}"
												update=":#{p:component('dtFamigliariGrid')} :#{p:component('panelComboFamiglia')}" />
											
									</p:panelGrid>
		
									<p:outputPanel id="dtFamigliariGrid" width="100%">
										<p:dataTable id="dtFamigliari" var="componente" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.lstComponentiFamiglia}">
											<p:column headerText="Composizione Famiglia">
												<h:outputText value="#{componente.tipo}" />
											</p:column>
											<p:column headerText="Cittadinanza">
												<h:outputText value="#{componente.cittadinanza}" />
											</p:column>
											<p:column headerText="Regione">
												<h:outputText value="#{componente.regione}" />
											</p:column>
											<p:column headerText="Titolo di studio">
												<h:outputText value="#{componente.titoloStudio}" />
											</p:column>
											<p:column headerText="Occupazione">
												<h:outputText value="#{componente.occupazione}" />
											</p:column>
											<p:column style="width:32px;text-align: center">
												<p:commandButton process="@this"
													update=":#{p:component('dtFamigliariGrid')}"
													actionListener="#{cc.attrs.sinbaManBean.jsonCurrent.datiFamiglia.rimuoviComponente(componente.tipoID)}"
													icon="ui-icon-trash" title="Rimuovi" />
											</p:column>
										</p:dataTable>
									</p:outputPanel>
								</p:fieldset>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
		
				<p:tab id="disabilita" title="Disabilità">
					<!-- TAB DISABILITA' - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						<p:outputPanel>
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="2">
								
								<h:outputText value="Disabile: *" style="font-weight: bold;" />
								<p:selectOneButton id="disabileaVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.disabile}" style="width:200px">
									<f:selectItem itemLabel="SI" itemValue="1" />
									<f:selectItem itemLabel="NO" itemValue="2" />
								</p:selectOneButton>
	
								<h:outputText value="Tipo disabilità: " style="font-weight: bold;" />
								<p:selectOneMenu id="tipoDisabilitaVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.tipoDisabilita}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem itemLabel="Fisica" itemValue="1" />
									<f:selectItem itemLabel="Psichica" itemValue="2" />
									<f:selectItem itemLabel="Sensoriale" itemValue="3" />
									<f:selectItem itemLabel="Plurima" itemValue="4" />
								</p:selectOneMenu>
	
								<h:outputText value="Certificazione invalidità Civile: " style="font-weight: bold;" />
								<p:selectOneMenu id="certInvaliditaCivileVal" required="false"
									value="#{cc.attrs.sinbaManBean.jsonCurrent.datiDisabilita.certificazioneInvCivile}"
									style="width:200px">
									<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
									<f:selectItem
										itemLabel="Certificazione invalidità civile parziale non inferiore al 75%"
										itemValue="1" />
									<f:selectItem
										itemLabel="Certificazione invalidità civile totale (100%) con indennità di accompagnamento"
										itemValue="2" />
									<f:selectItem
										itemLabel="Certificazione invalidità civile totale (100%) senza indennità di accompagnamento"
										itemValue="3" />
									<f:selectItem itemLabel="Certificazione NPI" itemValue="4" />
									<f:selectItem itemLabel="Certificazione 1.104" itemValue="5" />
								</p:selectOneMenu>
	
							</p:panelGrid>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
		
				<p:tab id="segnalazioni" title="Segnalazioni">
					<!-- TAB SEGNALAZIONI - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
						<p:outputPanel id="panelSegnalazioni">
							<p:panelGrid  cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
							
									<h:outputText value="Fonte della segnalazione: *" style="font-weight: bold;" />
									<p:selectOneMenu id="fonteSegnalazioneVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.fonte}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem
											itemLabel="Servizio sociale minori della giustizia minorile"
											itemValue="1" />
										<f:selectItem
											itemLabel="Altro servizio sociale (consultori, centri famiglia, di altro ambito/distretto)"
											itemValue="2" />
										<f:selectItem
											itemLabel="Servizi sanitari / medico di base / pediatra"
											itemValue="3" />
										<f:selectItem itemLabel="Privato sociale / volontariato"
											itemValue="4" />
										<f:selectItem itemLabel="Forze dell'ordine" itemValue="5" />
										<f:selectItem itemLabel="Beneficiario stesso" itemValue="6" />
										<f:selectItem itemLabel="Genitori affidatari / tutore"
											itemValue="7" />
										<f:selectItem
											itemLabel="Genitori / fratelli / altri familiari conviventi"
											itemValue="8" />
										<f:selectItem itemLabel="Parenti non conviventi" itemValue="9" />
										<f:selectItem itemLabel="Tribunale ordinario" itemValue="10" />
										<f:selectItem itemLabel="Autorità giudiziarie minorili"
											itemValue="11" />
										<f:selectItem itemLabel="Professionista privato" itemValue="12" />
										<f:selectItem itemLabel="Scuola" itemValue="13" />
										<f:selectItem itemLabel="Vicinato o conoscenti" itemValue="14" />
									</p:selectOneMenu>
									
									<h:outputText value="Data segnalazione: *"
										style="font-weight: bold;" />
									<!-- formato voluto da INPS in export "MM/yyyy" dataPatternLabel="mm/aaaa" -->
									<webred:pnlData dataReq="false"
										dataValue="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.dataSegnalazione}"
										dataReqMes="Immettere una data" dataPattern="dd/MM/yyyy"
										dataPatternLabel="gg/mm/aaaa" />
									
									<h:outputText value="Segnalazione autorità giudiziaria: *"
										style="font-weight: bold;" />
									<p:selectOneButton id="segnAutoritaGuidVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.autoritaGiudiziaria}">
										<f:selectItem itemLabel="SI" itemValue="1" />
										<f:selectItem itemLabel="NO" itemValue="2" />
									</p:selectOneButton>
		
									<h:outputText value="Provvedimento giudiziario: *"
										style="font-weight: bold;" />
									<p:selectOneButton id="provvGiudVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.provvedimentoGiudiziario}">
										<f:selectItem itemLabel="SI" itemValue="1" />
										<f:selectItem itemLabel="NO" itemValue="2" />
									</p:selectOneButton>
		
		
									<h:outputText value="Valutazione del minore: *" style="font-weight: bold;" />
									<p:selectOneMenu id="valutazioneMinoreVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.valutazioneMinore}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Nessuna specifica problematica"
											itemValue="1" />
										<f:selectItem itemLabel="Problemi relazionali e comportamentali"
											itemValue="2" />
										<f:selectItem itemLabel="Dipendenze" itemValue="3" />
										<f:selectItem itemLabel="Presunto stato di abbandono"
											itemValue="4" />
										<f:selectItem itemLabel="Problemi sanitari" itemValue="5" />
										<f:selectItem
											itemLabel="Violenza sessuale subita, prostituzione, tratta, pedopornografia"
											itemValue="6" />
										<f:selectItem
											itemLabel="Altre forme di violenza e maltrattamento subite"
											itemValue="7" />
										<f:selectItem itemLabel="Comportamenti di grave devianza"
											itemValue="8" />
										<f:selectItem itemLabel="Problemi di autonomia, disabilità"
											itemValue="9" />
										<f:selectItem itemLabel="Coinvolto in procedure penali"
											itemValue="10" />
										<f:selectItem itemLabel="Gestante/Madre minorenne"
											itemValue="11" />
										<f:selectItem itemLabel="Minore straniero non accompagnato"
											itemValue="12" />
										<f:selectItem itemLabel="Abbandono scolastico" itemValue="13" />
									</p:selectOneMenu>
		
									<h:outputText value="Valutazione famiglia del minore: *" style="font-weight: bold;" />
									<p:selectOneMenu id="valutazioneFamigliaMinoreVal"
										required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.valutazioneFamiglia}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Nessuna specifica problematica"
											itemValue="1" />
										<f:selectItem
											itemLabel="Fragilità/inadeguatezza genitoriale, problematiche socio-ducative e relazionali"
											itemValue="2" />
										<f:selectItem itemLabel="Dipendenze" itemValue="3" />
										<f:selectItem itemLabel="Problematiche psichiatriche"
											itemValue="4" />
										<f:selectItem itemLabel="Altre problematiche sanitarie"
											itemValue="5" />
										<f:selectItem itemLabel="Grave conflittualità familiare"
											itemValue="6" />
										<f:selectItem itemLabel="Famiglia maltrattante" itemValue="7" />
										<f:selectItem itemLabel="Famiglia abusante" itemValue="8" />
										<f:selectItem itemLabel="Problemi giudiziari" itemValue="9" />
										<f:selectItem
											itemLabel="Fallimento affido preadottivo nel I anno"
											itemValue="10" />
										<f:selectItem itemLabel="Inadempiezza obblighi sanitari"
											itemValue="11" />
										<f:selectItem itemLabel="Difficoltà economiche" itemValue="12" />
										<f:selectItem itemLabel="Difficoltà abitative" itemValue="13" />
									</p:selectOneMenu>
		
							</p:panelGrid>
							<p:spacer height="30px"/>
							<p:panelGrid cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
								
									<h:outputText value="Autorità del provvedimento giudiziario: " style="font-weight: bold;" />
									<p:selectOneMenu id="autoritaProvvGiudVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.autoritaProvvedimento}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Giudice tutelare" itemValue="1" />
										<f:selectItem itemLabel="Tribunale per i minori" itemValue="2" />
										<f:selectItem itemLabel="Procura per i minori" itemValue="3" />
										<f:selectItem itemLabel="Tribunale ordinario" itemValue="4" />
									</p:selectOneMenu>

									<h:outputText value="Data del provvedimento giudiziario: "
										style="font-weight: bold;" />
									<!--  formato voluto da INPS in export "MM/yyyy" dataPatternLabel="mm/aaaa" -->
									<webred:pnlData dataReq="false"
										dataValue="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.dataProvvedimento}"
										dataReqMes="Immettere una data" dataPattern="dd/MM/yyyy"
										dataPatternLabel="gg/mm/aaaa" />									

									<h:outputText value="Tipo del provvedimento: "
										style="font-weight: bold;" />
									<p:selectOneMenu id="tipoProvvGiudVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.tipoProvvedimento}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Adottabilità" itemValue="1" />
										<f:selectItem itemLabel="Adozione nazionale" itemValue="2" />
										<f:selectItem itemLabel="Adozione internazionale" itemValue="3" />
										<f:selectItem itemLabel="Affidamento familiare" itemValue="4" />
										<f:selectItem itemLabel="Affido al servizio sociale"
											itemValue="5" />
										<f:selectItem
											itemLabel="Affido a uno dei genitori in caso di separazione"
											itemValue="6" />
										<f:selectItem itemLabel="Vigilanza" itemValue="7" />
										<f:selectItem
											itemLabel="Post-adozione 'allontanamento del minore in via d'emergenza (art.403 c.c.)'"
											itemValue="8" />
									</p:selectOneMenu>
									
									<h:outputText value="Potestà tutela: " style="font-weight: bold;" />
									<p:selectOneMenu id="potestaTutelaVal" required="false"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiSegnalazioni.potestaTutela}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Sospensione potestà genitoriale"
											itemValue="1" />
										<f:selectItem itemLabel="Decadenza potestà genitoriale"
											itemValue="2" />
										<f:selectItem itemLabel="Prescrizione ai genitori" itemValue="3" />
										<f:selectItem itemLabel="Tutela a parenti o altri soggetti"
											itemValue="4" />
										<f:selectItem itemLabel="Curatela" itemValue="5" />
									</p:selectOneMenu>
								
							</p:panelGrid>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
		
				<p:tab id="affidamento" title="Affidamento">
				
					<!-- TAB AFFIDAMENTO - SCHEDA MULTIDIMENSIONALE MINORI -->
					<p:scrollPanel mode="native" style="height: 550px;">
					 			
						<p:outputPanel>
						<p:panelGrid id="affidamentoPAI" cellpadding="10" width="100%" styleClass="tableNoBg" columns="2">
						
						 <h:outputText id="msgDaPAI" rendered="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.datiDaProgettoPAI}"  value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.messaggioDaPai}"
													style="font-weight: bold;background-color: red;color: white" />
								 				
								 			 
									 
						</p:panelGrid>	
						
						    <p:fieldset legend="Dati relativi all'affido">
						    
						   
							<p:panelGrid id="affidamentoForma" cellpadding="10" width="100%" styleClass="tableNoBg" columns="2">
							
									 
								  
								
										<h:outputText value="Forme di intervento" style="font-weight: bold;" />
									   
											<p:selectOneButton id="formeInterventoVal"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.formaIntervento}"
												style="width:200px">
												<f:selectItem itemLabel="Consensuale" itemValue="1" />
												<f:selectItem itemLabel="Giudiziario" itemValue="2" />
											</p:selectOneButton>
									 
											<h:outputText value="Esito" style="font-weight: bold;" />
									 	 	<p:selectOneMenu id="esitoVal"
												value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.esito}"
												style="width:200px">
												<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
												<f:selectItem itemLabel="Rientrato nella famiglia di origine"
													itemValue="1" />
												<f:selectItem itemLabel="Affidato ad altro nucleo familiare"
													itemValue="2" />
												<f:selectItem itemLabel="Adottato" itemValue="3" />
												<f:selectItem itemLabel="Inserito in struttura socio-educativa"
													itemValue="4" />
												<f:selectItem itemLabel="Inserito in struttura sanitaria"
													itemValue="5" />
												<f:selectItem itemLabel="Vita in autonomia" itemValue="6" />
												<f:selectItem itemLabel="Rimpatriato" itemValue="7" />
												<f:selectItem itemLabel="Destinazione ignota" itemValue="8" />
												<f:selectItem itemLabel="Altro" itemValue="9" />
											</p:selectOneMenu>

										
									 
											<h:outputText value="Tipo di intervento" style="font-weight: bold;" />
									  
											<p:selectOneButton id="tipoInterventoVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.tipoIntervento}">
												<f:selectItem itemLabel="Intrafamiliare" itemValue="1" />
												<f:selectItem itemLabel="Eterofamiliare" itemValue="2" />
											</p:selectOneButton>
										 
										<h:outputText value="Durata" style="font-weight: bold;" />
									 	 
											<p:selectOneButton id="durataVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.durata}">
												<f:selectItem itemLabel="Tempo pieno" itemValue="1" />
												<f:selectItem itemLabel="Tempo parziale" itemValue="2" />
											</p:selectOneButton>
									 
										<h:outputText value="Carattere" style="font-weight: bold;" />
									 	 
										<p:selectOneButton id="carattereVal" value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.carattere}">
											<f:selectItem itemLabel="Residenziale" itemValue="1" />
											<f:selectItem itemLabel="Diurno" itemValue="2" />
										</p:selectOneButton>
									 
							</p:panelGrid>
							</p:fieldset>
							<p:fieldset legend="Dati relativi all'inserimento residenziale">
							<p:panelGrid id="affidamentoCarattere" cellpadding="10" width="100%" styleClass="tableNoBg" columns="4">
						
									<h:outputText value="Carattere inserimento" style="font-weight: bold;" />
									<p:selectOneMenu id="carattereInserimentoVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.carattereInserimento}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem
											itemLabel="Familiare-prevalente accoglienza abitativa"
											itemValue="1" />
										<f:selectItem itemLabel="Familiare-prevalente funzione tutelare"
											itemValue="2" />
										<f:selectItem itemLabel="Familiare-funzione socio-educativa"
											itemValue="3" />
										<f:selectItem itemLabel="Comunitario-accoglienza di emergenze"
											itemValue="4" />
										<f:selectItem
											itemLabel="Comunitario-prevalente accoglienza abitativa"
											itemValue="5" />
										<f:selectItem
											itemLabel="Comunitario-prevalente funzione tutelare"
											itemValue="6" />
										<f:selectItem itemLabel="Comunitario-funzione socio-educativa"
											itemValue="7" />
										<f:selectItem
											itemLabel="Comunitario-funzione educativa-psicologica"
											itemValue="8" />
										<f:selectItem
											itemLabel="Comunitario-funzione integrazione socio-sanitaria bassa"
											itemValue="9" />
										<f:selectItem
											itemLabel="Comunitario-funzione integrazione socio-sanitaria medio-alta"
											itemValue="10" />
									</p:selectOneMenu>
									
									<h:outputText value="Forma inserimento" style="font-weight: bold;" />
									<p:selectOneButton id="formaInsVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.formaInserimento}"
										style="width:200px">
										<f:selectItem itemLabel="Consensuale" itemValue="1" />
										<f:selectItem itemLabel="Giudiziaria" itemValue="2" />
									</p:selectOneButton>
									
									<h:outputText value="Tipo inserimento" style="font-weight: bold;" />
									<p:selectOneButton id="tipoInsVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.tipoInserimento}">
										<f:selectItem itemLabel="Con genitore" itemValue="1" />
										<f:selectItem itemLabel="Senza genitore" itemValue="2" />
									</p:selectOneButton>
		
									<h:outputText value="Esito inserimento struttura" style="font-weight: bold;" />
									<p:selectOneMenu id="esitoInserimentoStrutturaVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.esitoInserimentoStruttura}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Rientrato nella famiglia di origine"
											itemValue="1" />
										<f:selectItem itemLabel="In famiglia affidataria o affidatario"
											itemValue="2" />
										<f:selectItem itemLabel="Adottato" itemValue="3" />
										<f:selectItem
											itemLabel="Inserito in altra struttura socio-educativa"
											itemValue="4" />
										<f:selectItem itemLabel="Inserito in struttura sanitaria"
											itemValue="5" />
										<f:selectItem itemLabel="Reso autonomo" itemValue="6" />
										<f:selectItem itemLabel="Rimpatriato" itemValue="7" />
										<f:selectItem itemLabel="Destinazione ignota" itemValue="8" />
										<f:selectItem itemLabel="Altro" itemValue="9" />
									</p:selectOneMenu>
									
									<h:outputText value="Motivazione chiusura carico" style="font-weight: bold;" />
									<p:selectOneMenu id="motChiusuraCaricoVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.motivazioneChiusuraCarico}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem
											itemLabel="Passaggio a servizio territoriale altro ambito/distretto della stessa regione"
											itemValue="1" />
										<f:selectItem
											itemLabel="Passaggio a servizio territoriale altro ambito/distretto di altra regione"
											itemValue="2" />
										<f:selectItem itemLabel="Raggiunta età maggiorenne"
											itemValue="3" />
										<f:selectItem
											itemLabel="Conclusione degli interventi e della presa in carico per risoluzione dello stato di bisogno"
											itemValue="4" />
										<f:selectItem
											itemLabel="Uscita richiesta dal minore utente o dalla famiglia"
											itemValue="5" />
										<f:selectItem itemLabel="Rimpatriato" itemValue="6" />
										<f:selectItem itemLabel="Irreperibilità" itemValue="7" />
										<f:selectItem itemLabel="Decesso" itemValue="8" />
										<f:selectItem itemLabel="Altro" itemValue="9" />
									</p:selectOneMenu>
									
									<h:outputText value="Situazione chiusura carico" style="font-weight: bold;" />
									<p:selectOneMenu id="sitChiusuraCaricoVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.situazioneChiusuraCarico}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="Nella famiglia di origine"
											itemValue="1" />
										<f:selectItem
											itemLabel="Vita in autonomia (in appartamento anche con altri non familiari o parenti)"
											itemValue="2" />
										<f:selectItem
											itemLabel="Rimane nella famiglia affidataria anche se maggiorenne"
											itemValue="3" />
										<f:selectItem
											itemLabel="Rimane nella struttura residenziale socio-assistenziale anche se maggiorenne"
											itemValue="4" />
										<f:selectItem
											itemLabel="Collocato in struttura residenziale sanitaria"
											itemValue="5" />
										<f:selectItem itemLabel="Adottato in una nuova famiglia"
											itemValue="6" />
										<f:selectItem itemLabel="In istituto penale" itemValue="7" />
										<f:selectItem itemLabel="Destinazione ignota" itemValue="8" />
									</p:selectOneMenu>
		
									<h:outputText value="Collaborazione interventi" style="font-weight: bold;" />
									<p:selectOneMenu id="collInterventiVal"
										value="#{cc.attrs.sinbaManBean.jsonCurrent.datiAffidamento.collaborazioneInterventi}"
										style="width:200px">
										<f:selectItem noSelectionOption="true" itemLabel="- seleziona -" />
										<f:selectItem itemLabel="SERT" itemValue="1" />
										<f:selectItem itemLabel="NPI" itemValue="2" />
										<f:selectItem itemLabel="Psicologia" itemValue="3" />
										<f:selectItem itemLabel="Clinica/dsm" itemValue="4" />
										<f:selectItem
											itemLabel="Altri servizi sociali (consultorio, centri, famiglia, adulti, di altro abito/distretto)"
											itemValue="5" />
										<f:selectItem itemLabel="Ussm ministero giustizia" itemValue="6" />
										<f:selectItem itemLabel="Scuola" itemValue="7" />
										<f:selectItem
											itemLabel="Servizi privato sociale associazionismo, volontariato"
											itemValue="8" />
										<f:selectItem itemLabel="Altro" itemValue="9" />
									</p:selectOneMenu>
							
							</p:panelGrid>
							</p:fieldset>
						</p:outputPanel>
					</p:scrollPanel>
				</p:tab>
			</p:tabView>
		
		
			<p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
				<h:panelGrid columns="2" styleClass="centerAlign">
					<p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
					<p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
				</h:panelGrid>
			</p:confirmDialog>
			

		</p:outputPanel>
			
		</composite:implementation>
	</h:body>
		
</html>