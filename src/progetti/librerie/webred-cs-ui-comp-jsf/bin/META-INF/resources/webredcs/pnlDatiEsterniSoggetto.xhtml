<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui"
	xmlns:composite="http://java.sun.com/jsf/composite" xmlns:webred="http://java.sun.com/jsf/composite/webred">

<h:head>
	<title>Dati Esterni Soggetto</title>
</h:head>
<h:body>
	<composite:interface componentType="pnlDatiEsterniSoggetto">
	<!-- 
		<composite:attribute name="codiceFiscaleSoggetto" type="java.lang.String" required="true" />
	 -->
	</composite:interface>
	<composite:implementation>

<!-- 		<p:outputPanel deferred="true">
			<p:graphicImage value="#{resource['webredcs/img/dati_esterni.png']}"
					rendered="#{not empty schedaDatiEsterniSoggettoBean.datiEsterniSoggetto}" 
					height="26px" id="content" title="Dati Esterni"
					onclick="PF('dlgDatiEsterni').show()" />
		</p:outputPanel> -->
				<p:outputPanel deferred="true">
			<p:graphicImage value="#{resource['webredcs/img/dati_esterni.png']}"
					rendered="#{not empty schedaDatiEsterniSoggettoBean.datiEsterniSoggetto}" 
					height="26px" id="content" title="Dati Esterni"
					onclick="PF('dlgDatiEsterni').show()" />
		</p:outputPanel>

		<p:dialog widgetVar="dlgDatiEsterni" position="10,10" modal="true" width="1280" height="640">
			<p:accordionPanel value="#{schedaDatiEsterniSoggettoBean.datiEsterniSoggetto}" var="de" styleClass="leftAlign">
				<p:tab title="File : #{de.nomeFile} - Tipologia : #{de.tipologia}">
					<h:outputText styleClass="bold" style="margin: 1em" value="Data e ora importazione:" />
					<h:outputText value="#{de.dataImportazione}" >
						 <f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
					</h:outputText>
					<ui:repeat var="rigaDatiEsterni" value="#{de.righeDatiEsterni}">
						<p:dataGrid value="#{rigaDatiEsterni.contenuti}" var="nvp" columns="5">
							<p:panelGrid columns="1">
								<f:facet name="header">
									<h:outputText value="#{nvp.nomeCampo}" />
								</f:facet>
								<h:outputText value="#{nvp.valore}" />
								<p:spacer height="5" />
							</p:panelGrid>
						</p:dataGrid>
						<p:spacer height="30" />
					</ui:repeat>
				</p:tab>
			</p:accordionPanel>
		</p:dialog>

	</composite:implementation>
</h:body>

</html>